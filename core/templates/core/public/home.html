{% extends "core/base.html" %}

{% block content %}
  <!-- Hero principal con buscador -->
  <section class="hero">
    <h2>¬°Encuentra tu nueva casa o renta una Ya!</h2>
    <p>Conecta con los mejores vendedores o inmobiliarias de M√©xico.</p>

    <!-- Buscador estilizado -->
    <form method="GET" action="{% url 'resultados_busqueda' %}" class="search-bar">
      <!-- Selecci√≥n de tipo -->
      <select name="tipo_operacion">
        <option value="">Tipo</option>
        <option value="venta">Venta</option>
        <option value="renta">Renta</option>
      </select>

      <!-- Campo de b√∫squeda -->
      <input 
        type="text" 
        name="direccion" 
        placeholder="Buscar por direcci√≥n, ciudad o colonia"
      >

      <!-- Bot√≥n -->
      <button type="submit"><i class="fas fa-search"></i></button>
    </form>
  </section>

  <!-- Propiedades destacadas -->
  <section class="seccion-productos">
    <h2>üè° Propiedades destacadas</h2>
    <div class="grid-productos">
      {% for propiedad in propiedades %}
        <div class="producto">
          <h3>{{ propiedad.titulo }}</h3>
          <p>{{ propiedad.descripcion|truncatechars:100 }}</p>
          <p><strong>${{ propiedad.precio }}</strong></p>
          <p>{{ propiedad.direccion }}</p>
          <a href="{% url 'detalle_propiedad' propiedad.id %}" class="btn-principal">Ver detalles</a>
        </div>
      {% empty %}
        <div class="producto coming-soon">
          <h3>No hay propiedades disponibles todav√≠a</h3>
          <p>Pronto podr√°s explorar opciones aqu√≠.</p>
        </div>
      {% endfor %}
    </div>
  </section>
{% endblock %}
